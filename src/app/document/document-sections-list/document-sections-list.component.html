<mat-card>
    <mat-card-title>Document Sections</mat-card-title>
    <mat-card-subtitle>
        Create, delete, and re-order sections for this document
    </mat-card-subtitle>

    <mat-card-content>
        <mat-list cdkDropList (cdkDropListDropped)="reorder($event)">
            <mat-list-item cdkDrag *ngFor="let section of getSections();let index=index;trackBy:section?.id">
                <div class="example-handle" cdkDragHandle>
                    <mat-icon>reorder</mat-icon>
                </div>
                {{section.type}}
                <button mat-button mat-icon-button (click)="deleteSection(index)">
                    <mat-icon>delete</mat-icon>
                </button>
            </mat-list-item>
        </mat-list>
    </mat-card-content>

    <mat-card-actions>
        <mat-form-field>
            <mat-label>Add a section of type</mat-label>
            <mat-select #SectionSelect>
                <mat-option *ngFor="let type of sectionTypes" [value]="type">
                    {{type}}
                </mat-option>
            </mat-select>
        </mat-form-field>
        <button mat-flat-button color="primary"
            (click)="addSection(SectionSelect.value);SectionSelect.value=undefined"
            [disabled]="!SectionSelect.value">
            Add Section
        </button>
    </mat-card-actions>
</mat-card>